<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grand Luxe Hotel - Admin Dashboard</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .hover-lift {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .table-row-hover {
            transition: background-color 0.2s ease;
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .status-active {
            background-color: #10b981;
            color: white;
        }
        
        .status-pending {
            background-color: #f59e0b;
            color: white;
        }
        
        .status-processing {
            background-color: #3b82f6;
            color: white;
        }
        
        .status-completed {
            background-color: #8b5cf6;
            color: white;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.2s ease;
        }
        
        .modal-content {
            background: white;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.25rem;
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: border-color 0.2s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #d4af37;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }
        
        /* New styles for sync system */
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .sync-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .sync-indicator.syncing {
            background-color: #3b82f6;
            animation: pulse 2s infinite;
        }
        
        .sync-indicator.connected {
            background-color: #10b981;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .inventory-status-critical { background-color: #fee2e2; color: #dc2626; }
        .inventory-status-low { background-color: #fef3c7; color: #d97706; }
        .inventory-status-good { background-color: #dbeafe; color: #1d4ed8; }
        .inventory-status-excellent { background-color: #dcfce7; color: #059669; }
        .inventory-status-out-of-stock { background-color: #f5f5f5; color: #6b7280; }
        
        /* POS Styles */
        .pos-grid-item {
            transition: all 0.2s ease;
        }
        
        .pos-grid-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .order-queue-item {
            border-left-width: 4px;
        }
        
        /* Timer Styles */
        .timer-expiring {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Table Status Colors */
        .table-available { background-color: #f0fdf4; border-color: #bbf7d0; }
        .table-occupied { background-color: #eff6ff; border-color: #bfdbfe; }
        .table-reserved { background-color: #fefce8; border-color: #fde68a; }
        .table-needs-attention { background-color: #fef2f2; border-color: #fecaca; }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy: { 
                            50: '#f0f4f8', 
                            100: '#d9e2ec', 
                            500: '#1e3a5f', 
                            600: '#152a47', 
                            700: '#0d1b2a', 
                            800: '#0a1628', 
                            900: '#050d15' 
                        },
                        gold: { 
                            400: '#f4c542', 
                            500: '#d4af37', 
                            600: '#b8941f' 
                        }
                    },
                    fontFamily: { 
                        'inter': ['Inter', 'sans-serif'] 
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-gray-50 h-full" x-data="dashboardData" x-init="initDashboard()">
    <div class="flex h-full">
        <!-- Sidebar -->
        <aside class="w-64 bg-gradient-to-b from-navy-800 to-navy-900 flex flex-col shadow-2xl h-full">
            <div class="p-6 border-b border-navy-700">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gold-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-hotel text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-white font-bold text-lg">Grand Luxe</h1>
                        <p class="text-white text-xs">Hotel Management</p>
                    </div>
                </div>
            </div>

            <nav class="flex-1 p-4 overflow-y-auto">
                <div class="space-y-1">
                    <button @click="currentPage = 'dashboard'" :class="currentPage === 'dashboard' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                        <i class="fas fa-chart-line w-5"></i>
                        <span class="font-medium">Dashboard</span>
                    </button>
                    
                    <template x-if="userRole === 'admin'">
                        <div>
                            <button @click="currentPage = 'bookings'" :class="currentPage === 'bookings' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-calendar-check w-5"></i>
                                <span class="font-medium">Bookings</span>
                            </button>
                            
                            <button @click="currentPage = 'guests'" :class="currentPage === 'guests' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-users w-5"></i>
                                <span class="font-medium">Guests</span>
                            </button>
                            
                            <button @click="currentPage = 'rooms'" :class="currentPage === 'rooms' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-bed w-5"></i>
                                <span class="font-medium">Rooms</span>
                            </button>
                            
                            <button @click="currentPage = 'staff'" :class="currentPage === 'staff' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-user-tie w-5"></i>
                                <span class="font-medium">Staff</span>
                            </button>
                            
                            <button @click="currentPage = 'services'" :class="currentPage === 'services' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-concierge-bell w-5"></i>
                                <span class="font-medium">Services</span>
                            </button>
                            
                            <button @click="currentPage = 'finance'" :class="currentPage === 'finance' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-dollar-sign w-5"></i>
                                <span class="font-medium">Finance</span>
                            </button>
                            
                            <button @click="currentPage = 'analytics'" :class="currentPage === 'analytics' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-chart-pie w-5"></i>
                                <span class="font-medium">Analytics</span>
                            </button>
                            
                            <button @click="currentPage = 'settings'" :class="currentPage === 'settings' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-cog w-5"></i>
                                <span class="font-medium">Settings</span>
                            </button>
                        </div>
                    </template>
                    
                    <template x-if="userRole === 'chef'">
                        <div>
                            <button @click="currentPage = 'kitchen-orders'" :class="currentPage === 'kitchen-orders' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-utensils w-5"></i>
                                <span class="font-medium">Kitchen Orders</span>
                            </button>
                            
                            <button @click="currentPage = 'menu-management'" :class="currentPage === 'menu-management' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-clipboard-list w-5"></i>
                                <span class="font-medium">Menu Management</span>
                            </button>
                            
                            <button @click="currentPage = 'kitchen-menu'" :class="currentPage === 'kitchen-menu' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-clipboard-check w-5"></i>
                                <span class="font-medium">Kitchen Menu</span>
                            </button>
                            
                            <button @click="currentPage = 'inventory'" :class="currentPage === 'inventory' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-boxes w-5"></i>
                                <span class="font-medium">Inventory</span>
                            </button>
                            
                            <!-- NEW CHEF PAGES -->
                            <button @click="currentPage = 'kitchen-timers'" :class="currentPage === 'kitchen-timers' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-clock w-5"></i>
                                <span class="font-medium">Kitchen Timers</span>
                            </button>
                            
                            <button @click="currentPage = 'prep-stations'" :class="currentPage === 'prep-stations' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-fire w-5"></i>
                                <span class="font-medium">Prep Stations</span>
                            </button>
                            
                            <button @click="currentPage = 'kitchen-schedule'" :class="currentPage === 'kitchen-schedule' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-calendar-alt w-5"></i>
                                <span class="font-medium">Kitchen Schedule</span>
                            </button>
                        </div>
                    </template>
                    
                    <template x-if="userRole === 'waiter'">
                        <div>
                            <button @click="currentPage = 'tables'" :class="currentPage === 'tables' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-chair w-5"></i>
                                <span class="font-medium">Tables</span>
                            </button>
                            
                            <button @click="currentPage = 'take-order'" :class="currentPage === 'take-order' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-receipt w-5"></i>
                                <span class="font-medium">Take Order</span>
                            </button>
                            
                            <button @click="currentPage = 'active-orders'" :class="currentPage === 'active-orders' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-concierge-bell w-5"></i>
                                <span class="font-medium">Active Orders</span>
                            </button>
                            
                            <button @click="currentPage = 'billing'" :class="currentPage === 'billing' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-cash-register w-5"></i>
                                <span class="font-medium">Billing</span>
                            </button>
                            
                            <!-- NEW WAITER PAGES -->
                            <button @click="currentPage = 'floor-map'" :class="currentPage === 'floor-map' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-map w-5"></i>
                                <span class="font-medium">Floor Map</span>
                            </button>
                            
                            <button @click="currentPage = 'customer-management'" :class="currentPage === 'customer-management' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-user-friends w-5"></i>
                                <span class="font-medium">Customers</span>
                            </button>
                            
                            <button @click="currentPage = 'shift-report'" :class="currentPage === 'shift-report' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-file-alt w-5"></i>
                                <span class="font-medium">Shift Report</span>
                            </button>
                        </div>
                    </template>
                    
                    <template x-if="userRole === 'laundry'">
                        <div>
                            <button @click="currentPage = 'laundry-jobs'" :class="currentPage === 'laundry-jobs' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-tshirt w-5"></i>
                                <span class="font-medium">Laundry Jobs</span>
                            </button>
                            
                            <button @click="currentPage = 'pickup-schedule'" :class="currentPage === 'pickup-schedule' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-truck-pickup w-5"></i>
                                <span class="font-medium">Pickup Schedule</span>
                            </button>
                            
                            <button @click="currentPage = 'laundry-inventory'" :class="currentPage === 'laundry-inventory' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-box-open w-5"></i>
                                <span class="font-medium">Inventory</span>
                            </button>
                            
                            <button @click="currentPage = 'machine-status'" :class="currentPage === 'machine-status' ? 'bg-gold-500 text-white' : 'text-white hover:bg-navy-700'" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg transition">
                                <i class="fas fa-cogs w-5"></i>
                                <span class="font-medium">Machine Status</span>
                            </button>
                        </div>
                    </template>
                </div>
            </nav>

            <div class="p-4 border-t border-navy-700">
                <div class="flex items-center gap-3 p-3 bg-navy-700 rounded-lg">
                    <div class="w-10 h-10 bg-gold-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-white"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-white font-semibold text-sm" x-text="getRoleDisplayName()"></p>
                        <p class="text-white text-xs" x-text="getRoleTitle()"></p>
                    </div>
                    <button class="text-navy-300 hover:text-white transition" @click="switchRole()">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
        </aside>

        <main class="flex-1 overflow-y-auto h-full">
            <header class="bg-white border-b border-gray-200 px-8 py-6 sticky top-0 z-10 shadow-sm">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-navy-800" x-text="formatPageTitle()"></h2>
                        <p class="text-gray-600 text-sm">Grand Luxe Hotel - <span x-text="getRoleTitle()"></span> Portal</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">Role:</span>
                            <select x-model="userRole" class="px-3 py-1 border border-gray-300 rounded text-sm">
                                <option value="admin">Admin</option>
                                <option value="chef">Chef</option>
                                <option value="waiter">Waiter</option>
                                <option value="laundry">Laundry</option>
                            </select>
                        </div>
                        
                        <button class="relative p-2 text-gray-600 hover:text-navy-700 transition">
                            <i class="fas fa-bell text-xl"></i>
                            <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                        </button>
                        <button @click="userRole === 'admin' ? openModal('newBooking') : userRole === 'chef' ? openModal('newKitchenOrder') : userRole === 'waiter' ? openModal('newOrder') : openModal('newLaundryJob')" class="px-4 py-2 bg-navy-700 text-white rounded-lg font-semibold hover:bg-navy-800 transition">
                            <i class="fas fa-plus mr-2"></i>
                            <span x-text="getNewButtonText()"></span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- DASHBOARD PAGES -->
            <div x-show="currentPage === 'dashboard'" class="p-8 fade-in">
                <!-- ADMIN Dashboard (existing code) -->
                <template x-if="userRole === 'admin'">
                    <!-- Existing admin dashboard code -->
                </template>

                <!-- ======================= -->
                <!-- ENHANCED CHEF DASHBOARD -->
                <!-- ======================= -->
                <template x-if="userRole === 'chef'">
                    <div>
                        <div class="mb-8 bg-gradient-to-r from-red-600 to-red-800 rounded-2xl p-8 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-3xl font-bold mb-2">Kitchen Command Center</h1>
                                    <p class="text-red-200">Manage orders, prep stations, and kitchen workflow in real-time</p>
                                </div>
                                <div class="flex items-center gap-4">
                                    <div class="text-center">
                                        <p class="text-sm text-red-200">Kitchen Status</p>
                                        <span :class="kitchenOpen ? 'bg-green-500' : 'bg-red-500'" class="px-4 py-2 text-white rounded-full text-sm font-semibold" x-text="kitchenOpen ? 'OPEN' : 'CLOSED'"></span>
                                    </div>
                                    <button @click="toggleKitchenStatus()" class="px-4 py-2 bg-white text-red-600 rounded-lg font-semibold hover:bg-red-50 transition">
                                        <i class="fas fa-power-off mr-2"></i>
                                        <span x-text="kitchenOpen ? 'Close Kitchen' : 'Open Kitchen'"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Kitchen Status Dashboard -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                            <!-- Active Orders -->
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-utensils text-red-600 text-xl"></i>
                                    </div>
                                    <span class="text-red-600 text-sm font-semibold" x-text="'/' + maxActiveOrders"></span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Active Orders</p>
                                <p class="text-3xl font-bold text-navy-800" x-text="chefOrders.filter(o => o.status === 'Cooking').length"></p>
                            </div>

                            <!-- Prep Time Average -->
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-clock text-yellow-600 text-xl"></i>
                                    </div>
                                    <span :class="avgPrepTime > 30 ? 'text-red-600' : 'text-green-600'" class="text-sm font-semibold">
                                        <i :class="avgPrepTime > 30 ? 'fas fa-arrow-up' : 'fas fa-arrow-down'" class="mr-1"></i>
                                        <span x-text="avgPrepTime > 30 ? '+5min' : '-2min'"></span>
                                    </span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Avg Prep Time</p>
                                <p class="text-3xl font-bold text-navy-800" x-text="avgPrepTime + ' min'"></p>
                            </div>

                            <!-- Station Utilization -->
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-fire text-blue-600 text-xl"></i>
                                    </div>
                                    <span class="text-blue-600 text-sm font-semibold">85%</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Station Utilization</p>
                                <p class="text-3xl font-bold text-navy-800" x-text="kitchenStations.filter(s => s.status === 'Active').length + '/' + kitchenStations.length"></p>
                            </div>

                            <!-- Today's Special -->
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-star text-green-600 text-xl"></i>
                                    </div>
                                    <span class="text-green-600 text-sm font-semibold">Special</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Today's Special</p>
                                <p class="text-lg font-bold text-navy-800 truncate">Lobster Thermidor</p>
                            </div>
                        </div>

                        <!-- Prep Stations -->
                        <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 mb-8">
                            <h3 class="text-lg font-bold text-navy-800 mb-4">Prep Stations Status</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <template x-for="station in kitchenStations" :key="station.id">
                                    <div :class="{
                                        'border-green-200 bg-green-50': station.status === 'Active',
                                        'border-red-200 bg-red-50': station.status === 'Down',
                                        'border-yellow-200 bg-yellow-50': station.status === 'Maintenance',
                                        'border-gray-200 bg-gray-50': station.status === 'Idle'
                                    }" class="border rounded-xl p-4">
                                        <div class="flex items-center justify-between mb-3">
                                            <div>
                                                <h4 class="font-bold text-navy-800" x-text="station.name"></h4>
                                                <p class="text-sm text-gray-600" x-text="station.type"></p>
                                            </div>
                                            <span :class="{
                                                'bg-green-100 text-green-700': station.status === 'Active',
                                                'bg-red-100 text-red-700': station.status === 'Down',
                                                'bg-yellow-100 text-yellow-700': station.status === 'Maintenance',
                                                'bg-gray-100 text-gray-700': station.status === 'Idle'
                                            }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="station.status"></span>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <p class="text-sm text-gray-600 mb-1">Current Order:</p>
                                            <p class="text-sm font-medium" x-text="station.currentOrder || 'None'"></p>
                                        </div>
                                        
                                        <div class="flex justify-between text-sm text-gray-600">
                                            <span>Temp: <span x-text="station.temperature"></span></span>
                                            <span>Timer: <span x-text="station.timer"></span></span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>

                        <!-- Urgent Orders Alert -->
                        <div x-show="chefOrders.filter(o => o.priority === 'High' && o.status !== 'Ready').length > 0" 
                             class="bg-red-50 border border-red-200 rounded-xl p-6 mb-8">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-exclamation-triangle text-red-600"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-red-800">Urgent Orders Need Attention</h4>
                                        <p class="text-red-700 text-sm" x-text="chefOrders.filter(o => o.priority === 'High' && o.status !== 'Ready').length + ' high priority orders waiting'"></p>
                                    </div>
                                </div>
                                <button @click="currentPage = 'kitchen-orders'" class="px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition">
                                    View Orders
                                </button>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                            <h3 class="text-lg font-bold text-navy-800 mb-4">Quick Actions</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <button @click="currentPage = 'kitchen-orders'" class="px-4 py-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3 hover:bg-red-100 transition">
                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-utensils text-red-600"></i>
                                    </div>
                                    <div class="text-left">
                                        <p class="font-semibold text-navy-800">View Orders</p>
                                        <p class="text-sm text-gray-600">Manage kitchen orders</p>
                                    </div>
                                </button>
                                
                                <button @click="currentPage = 'kitchen-timers'" class="px-4 py-4 bg-blue-50 border border-blue-200 rounded-xl flex items-center gap-3 hover:bg-blue-100 transition">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-clock text-blue-600"></i>
                                    </div>
                                    <div class="text-left">
                                        <p class="font-semibold text-navy-800">Kitchen Timers</p>
                                        <p class="text-sm text-gray-600">Manage cooking timers</p>
                                    </div>
                                </button>
                                
                                <button @click="currentPage = 'prep-stations'" class="px-4 py-4 bg-green-50 border border-green-200 rounded-xl flex items-center gap-3 hover:bg-green-100 transition">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-fire text-green-600"></i>
                                    </div>
                                    <div class="text-left">
                                        <p class="font-semibold text-navy-800">Prep Stations</p>
                                        <p class="text-sm text-gray-600">Station management</p>
                                    </div>
                                </button>
                                
                                <button @click="currentPage = 'inventory'" class="px-4 py-4 bg-purple-50 border border-purple-200 rounded-xl flex items-center gap-3 hover:bg-purple-100 transition">
                                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-boxes text-purple-600"></i>
                                    </div>
                                    <div class="text-left">
                                        <p class="font-semibold text-navy-800">Inventory</p>
                                        <p class="text-sm text-gray-600">Stock management</p>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </template>

                <!-- ========================= -->
                <!-- ENHANCED WAITER DASHBOARD -->
                <!-- ========================= -->
                <template x-if="userRole === 'waiter'">
                    <div>
                        <div class="mb-8 bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-3xl font-bold mb-2">Restaurant Floor Control</h1>
                                    <p class="text-blue-200">Welcome, <span x-text="waiterName"></span> â€¢ Shift: <span x-text="currentShift"></span></p>
                                </div>
                                <div class="flex items-center gap-4">
                                    <div class="text-center">
                                        <p class="text-sm text-blue-200">Current Tables</p>
                                        <span class="text-2xl font-bold" x-text="waiterTables.filter(t => t.status === 'Occupied' && t.waiter === waiterName).length"></span>
                                    </div>
                                    <button @click="startShift()" class="px-4 py-2 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition">
                                        <i class="fas fa-play mr-2"></i>
                                        <span x-text="shiftActive ? 'End Shift' : 'Start Shift'"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-chair text-blue-600 text-xl"></i>
                                    </div>
                                    <span class="text-blue-600 text-sm font-semibold" x-text="waiterTables.filter(t => t.waiter === waiterName).length + '/6'"></span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Assigned Tables</p>
                                <p class="text-3xl font-bold text-navy-800" x-text="waiterTables.filter(t => t.waiter === waiterName).length"></p>
                            </div>

                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-users text-green-600 text-xl"></i>
                                    </div>
                                    <span class="text-green-600 text-sm font-semibold">+3</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Total Guests Today</p>
                                <p class="text-3xl font-bold text-navy-800" x-text="totalGuestsToday"></p>
                            </div>

                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-dollar-sign text-yellow-600 text-xl"></i>
                                    </div>
                                    <span class="text-yellow-600 text-sm font-semibold">+15%</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Average Check</p>
                                <p class="text-3xl font-bold text-navy-800">$<span x-text="averageCheck.toFixed(2)"></span></p>
                            </div>

                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover-lift">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-star text-purple-600 text-xl"></i>
                                    </div>
                                    <span class="text-purple-600 text-sm font-semibold">4.8</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-1">Service Rating</p>
                                <p class="text-3xl font-bold text-navy-800" x-text="serviceRating"></p>
                            </div>
                        </div>

                        <!-- Floor Map Overview -->
                        <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 mb-8">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-lg font-bold text-navy-800">Floor Map Overview</h3>
                                <button @click="currentPage = 'floor-map'" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-semibold hover:bg-blue-200 transition">
                                    <i class="fas fa-expand mr-2"></i> Full View
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                                <template x-for="table in waiterTables" :key="table.table">
                                    <div @click="selectTable(table.table)"
                                         :class="{
                                             'table-available': table.status === 'Available',
                                             'table-occupied': table.status === 'Occupied' && table.waiter === waiterName,
                                             'table-reserved': table.status === 'Reserved',
                                             'border-red-300 bg-red-50': table.status === 'Occupied' && table.waiter !== waiterName,
                                             'ring-2 ring-blue-500': selectedTable === table.table
                                         }" 
                                         class="border rounded-xl p-4 text-center cursor-pointer transition transform hover:scale-105">
                                        <div class="text-2xl font-bold mb-2" x-text="table.table"></div>
                                        <div class="mb-2">
                                            <span :class="{
                                                'bg-green-200 text-green-800': table.status === 'Available',
                                                'bg-blue-200 text-blue-800': table.status === 'Occupied' && table.waiter === waiterName,
                                                'bg-red-200 text-red-800': table.status === 'Occupied' && table.waiter !== waiterName,
                                                'bg-yellow-200 text-yellow-800': table.status === 'Reserved'
                                            }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="table.status"></span>
                                        </div>
                                        <div class="text-sm text-gray-600 mb-1">
                                            <i class="fas fa-users mr-1"></i>
                                            <span x-text="table.guests"></span>
                                        </div>
                                        <div class="text-xs text-gray-500" x-text="table.waiter || 'Unassigned'"></div>
                                        <div class="mt-2 text-xs" :class="{
                                            'text-yellow-600': table.order === 'Pending',
                                            'text-green-600': table.order === 'Served',
                                            'text-blue-600': table.order === 'Ready'
                                        }" x-text="table.order"></div>
                                    </div>
                                </template>
                            </div>
                        </div>

                        <!-- Today's Performance -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Active Orders -->
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                                <h3 class="text-lg font-bold text-navy-800 mb-4">Active Orders</h3>
                                <div class="space-y-3">
                                    <template x-for="order in waiterOrders.filter(o => o.status !== 'Served')" :key="order.id">
                                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                            <div>
                                                <p class="font-semibold">Table <span x-text="order.table"></span></p>
                                                <p class="text-sm text-gray-600" x-text="order.items"></p>
                                                <div class="flex items-center gap-2 mt-1">
                                                    <span :class="{
                                                        'bg-yellow-100 text-yellow-700': order.status === 'Pending',
                                                        'bg-blue-100 text-blue-700': order.status === 'Ready',
                                                        'bg-green-100 text-green-700': order.status === 'Served'
                                                    }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="order.status"></span>
                                                    <span class="text-xs text-gray-600" x-text="order.time"></span>
                                                </div>
                                            </div>
                                            <button @click="openModal('viewOrder', order)" class="px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold hover:bg-blue-200 transition">
                                                View
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>

                            <!-- Quick Actions -->
                            <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                                <h3 class="text-lg font-bold text-navy-800 mb-4">Quick Actions</h3>
                                <div class="grid grid-cols-2 gap-4">
                                    <button @click="currentPage = 'take-order'" class="p-4 bg-green-50 border border-green-200 rounded-xl flex flex-col items-center justify-center hover:bg-green-100 transition">
                                        <i class="fas fa-plus text-green-600 text-2xl mb-2"></i>
                                        <span class="font-semibold text-navy-800">New Order</span>
                                    </button>
                                    
                                    <button @click="currentPage = 'billing'" class="p-4 bg-blue-50 border border-blue-200 rounded-xl flex flex-col items-center justify-center hover:bg-blue-100 transition">
                                        <i class="fas fa-cash-register text-blue-600 text-2xl mb-2"></i>
                                        <span class="font-semibold text-navy-800">Process Bill</span>
                                    </button>
                                    
                                    <button @click="openModal('splitBill')" class="p-4 bg-purple-50 border border-purple-200 rounded-xl flex flex-col items-center justify-center hover:bg-purple-100 transition">
                                        <i class="fas fa-receipt text-purple-600 text-2xl mb-2"></i>
                                        <span class="font-semibold text-navy-800">Split Bill</span>
                                    </button>
                                    
                                    <button @click="openModal('tableTransfer')" class="p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex flex-col items-center justify-center hover:bg-yellow-100 transition">
                                        <i class="fas fa-exchange-alt text-yellow-600 text-2xl mb-2"></i>
                                        <span class="font-semibold text-navy-800">Transfer Table</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>

                <!-- Laundry Dashboard (existing) -->
                <template x-if="userRole === 'laundry'">
                    <!-- Existing laundry dashboard code -->
                </template>
            </div>

            <!-- =========================== -->
            <!-- ENHANCED KITCHEN ORDERS POS -->
            <!-- =========================== -->
            <div x-show="currentPage === 'kitchen-orders' && userRole === 'chef'" class="p-8 fade-in">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Left: Menu Items Grid -->
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 h-full">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-2xl font-bold text-navy-800">Menu Items</h3>
                                <div class="flex gap-2">
                                    <div class="relative">
                                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                        <input type="text" x-model="menuSearch" placeholder="Search items..." class="pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 w-64">
                                    </div>
                                    <select x-model="menuCategoryFilter" class="px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                                        <option value="">All Categories</option>
                                        <option value="Main Course">Main Course</option>
                                        <option value="Appetizer">Appetizer</option>
                                        <option value="Dessert">Dessert</option>
                                        <option value="Beverage">Beverage</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Category Tabs -->
                            <div class="flex flex-wrap gap-2 mb-6">
                                <button @click="menuCategoryFilter = ''" :class="!menuCategoryFilter ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" class="px-4 py-2 rounded-lg font-semibold transition">All</button>
                                <button @click="menuCategoryFilter = 'Main Course'" :class="menuCategoryFilter === 'Main Course' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" class="px-4 py-2 rounded-lg font-semibold transition">Main Course</button>
                                <button @click="menuCategoryFilter = 'Appetizer'" :class="menuCategoryFilter === 'Appetizer' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" class="px-4 py-2 rounded-lg font-semibold transition">Appetizers</button>
                                <button @click="menuCategoryFilter = 'Dessert'" :class="menuCategoryFilter === 'Dessert' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" class="px-4 py-2 rounded-lg font-semibold transition">Desserts</button>
                                <button @click="menuCategoryFilter = 'Beverage'" :class="menuCategoryFilter === 'Beverage' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" class="px-4 py-2 rounded-lg font-semibold transition">Beverages</button>
                            </div>
                            
                            <!-- Menu Items Grid -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[calc(100vh-300px)] overflow-y-auto p-2">
                                <template x-for="item in filteredMenuItems" :key="item.id">
                                    <div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition cursor-pointer pos-grid-item"
                                         @click="addItemToPOS(item)">
                                        <div class="flex justify-between items-start mb-3">
                                            <div class="flex-1">
                                                <h4 class="font-bold text-navy-800" x-text="item.name"></h4>
                                                <div class="flex items-center mt-1">
                                                    <span class="text-xs px-2 py-1 rounded-full" 
                                                          :class="{
                                                              'bg-green-100 text-green-700': item.availablePortions > 20,
                                                              'bg-yellow-100 text-yellow-700': item.availablePortions > 10 && item.availablePortions <= 20,
                                                              'bg-red-100 text-red-700': item.availablePortions <= 10
                                                          }">
                                                        <i class="fas fa-box mr-1"></i>
                                                        <span x-text="item.availablePortions || '0'"></span> portions
                                                    </span>
                                                </div>
                                            </div>
                                            <span class="font-semibold text-green-600">$<span x-text="item.price"></span></span>
                                        </div>
                                        
                                        <div class="flex justify-between items-center">
                                            <span :class="{
                                                'bg-blue-100 text-blue-700': item.category === 'Main Course',
                                                'bg-green-100 text-green-700': item.category === 'Appetizer',
                                                'bg-purple-100 text-purple-700': item.category === 'Dessert',
                                                'bg-yellow-100 text-yellow-700': item.category === 'Beverage'
                                            }" class="px-2 py-1 rounded-full text-xs" x-text="item.category"></span>
                                            
                                            <span class="text-xs text-gray-600" x-text="item.prepTime"></span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right: Order Panel -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100 h-full flex flex-col">
                            <h3 class="text-2xl font-bold text-navy-800 mb-6">Current Order</h3>
                            
                            <!-- Order Details -->
                            <div class="flex-1 mb-6 overflow-y-auto">
                                <div class="space-y-3">
                                    <template x-for="(item, index) in currentOrder.items" :key="index">
                                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                            <div class="flex-1">
                                                <div class="flex items-center gap-2">
                                                    <span class="font-semibold" x-text="item.name"></span>
                                                    <span class="text-sm text-gray-600">Ã—<span x-text="item.quantity"></span></span>
                                                </div>
                                                <p class="text-sm text-gray-600" x-text="item.notes || 'No special instructions'"></p>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <span class="font-semibold">$<span x-text="(item.price * item.quantity).toFixed(2)"></span></span>
                                                <button @click="removeItemFromPOS(index)" class="text-red-600 hover:text-red-800">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </template>
                                    
                                    <div x-show="currentOrder.items.length === 0" class="text-center py-8 text-gray-500">
                                        <i class="fas fa-shopping-cart text-3xl mb-3"></i>
                                        <p>No items added</p>
                                        <p class="text-sm">Click menu items to add to order</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Order Summary -->
                            <div class="border-t border-gray-200 pt-6">
                                <div class="space-y-2 mb-4">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Subtotal</span>
                                        <span class="font-semibold">$<span x-text="currentOrder.subtotal.toFixed(2)"></span></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Tax (8%)</span>
                                        <span class="font-semibold">$<span x-text="currentOrder.tax.toFixed(2)"></span></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Service Charge (10%)</span>
                                        <span class="font-semibold">$<span x-text="currentOrder.serviceCharge.toFixed(2)"></span></span>
                                    </div>
                                    <div class="flex justify-between text-lg font-bold border-t border-gray-200 pt-2">
                                        <span>Total</span>
                                        <span>$<span x-text="currentOrder.total.toFixed(2)"></span></span>
                                    </div>
                                </div>
                                
                                <!-- Order Actions -->
                                <div class="space-y-3">
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Table</label>
                                            <select x-model="currentOrder.table" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500">
                                                <option value="">Select Table</option>
                                                <option value="T01">T01</option>
                                                <option value="T02">T02</option>
                                                <option value="T03">T03</option>
                                                <option value="T04">T04</option>
                                                <option value="T05">T05</option>
                                                <option value="T06">T06</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Guests</label>
                                            <input type="number" x-model="currentOrder.guests" min="1" max="12" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" value="2">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Special Instructions</label>
                                        <textarea x-model="currentOrder.specialInstructions" rows="2" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Add special instructions..."></textarea>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-3 mt-4">
                                        <button @click="clearOrder()" class="px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                                            <i class="fas fa-trash mr-2"></i> Clear
                                        </button>
                                        <button @click="submitPOSOrder()" 
                                                :disabled="currentOrder.items.length === 0 || !currentOrder.table"
                                                class="px-4 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed">
                                            <i class="fas fa-paper-plane mr-2"></i> Submit Order
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Order Queue Section -->
                <div class="mt-6 bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-navy-800">Order Queue</h3>
                        <div class="flex gap-2">
                            <button @click="currentQueueFilter = 'all'" :class="currentQueueFilter === 'all' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" 
                                    class="px-4 py-2 rounded-lg font-semibold transition">
                                All
                            </button>
                            <button @click="currentQueueFilter = 'Pending'" :class="currentQueueFilter === 'Pending' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" 
                                    class="px-4 py-2 rounded-lg font-semibold transition">
                                Pending
                            </button>
                            <button @click="currentQueueFilter = 'Cooking'" :class="currentQueueFilter === 'Cooking' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" 
                                    class="px-4 py-2 rounded-lg font-semibold transition">
                                Cooking
                            </button>
                            <button @click="currentQueueFilter = 'Ready'" :class="currentQueueFilter === 'Ready' ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-700'" 
                                    class="px-4 py-2 rounded-lg font-semibold transition">
                                Ready
                            </button>
                        </div>
                    </div>
                    
                    <!-- Order Queue Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <template x-for="order in getFilteredOrders()" :key="order.id">
                            <div :class="{
                                'border-red-200 bg-red-50 order-queue-item': order.priority === 'High',
                                'border-yellow-200 bg-yellow-50 order-queue-item': order.priority === 'Normal',
                                'border-blue-200 bg-blue-50 order-queue-item': order.status === 'Ready',
                                'border-green-200 bg-green-50 order-queue-item': order.status === 'Delivered'
                            }" class="border rounded-xl p-4 transition hover:shadow-md">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h4 class="font-bold text-navy-800">Order #<span x-text="order.id"></span></h4>
                                        <p class="text-sm text-gray-600" x-text="order.guest"></p>
                                        <p class="text-sm text-gray-600">Table <span x-text="order.table"></span></p>
                                    </div>
                                    <div class="text-right">
                                        <span :class="{
                                            'bg-red-100 text-red-700': order.priority === 'High',
                                            'bg-yellow-100 text-yellow-700': order.priority === 'Normal',
                                            'bg-green-100 text-green-700': order.priority === 'Low'
                                        }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="order.priority"></span>
                                        <div class="mt-1">
                                            <span :class="{
                                                'bg-blue-100 text-blue-700': order.status === 'Cooking',
                                                'bg-yellow-100 text-yellow-700': order.status === 'Pending',
                                                'bg-green-100 text-green-700': order.status === 'Ready'
                                            }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="order.status"></span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <p class="text-sm text-gray-600 mb-1">Items:</p>
                                    <p class="text-sm font-medium" x-text="order.items"></p>
                                </div>
                                
                                <div class="flex justify-between items-center text-sm text-gray-600 mb-3">
                                    <div>
                                        <i class="fas fa-clock mr-1"></i>
                                        <span x-text="order.time"></span>
                                    </div>
                                    <div>
                                        <i class="fas fa-users mr-1"></i>
                                        <span x-text="order.guests"></span> guests
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-2 gap-2">
                                    <template x-if="order.status === 'Pending'">
                                        <button @click="updateOrderStatus(order.id, 'Cooking')" 
                                                class="px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold hover:bg-blue-200 transition">
                                            <i class="fas fa-play mr-1"></i> Start
                                        </button>
                                    </template>
                                    <template x-if="order.status === 'Cooking'">
                                        <button @click="updateOrderStatus(order.id, 'Ready')" 
                                                class="px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-semibold hover:bg-green-200 transition">
                                            <i class="fas fa-check mr-1"></i> Ready
                                        </button>
                                    </template>
                                    <template x-if="order.status === 'Ready'">
                                        <button @click="updateOrderStatus(order.id, 'Delivered')" 
                                                class="px-3 py-2 bg-purple-100 text-purple-700 rounded-lg text-sm font-semibold hover:bg-purple-200 transition">
                                            <i class="fas fa-truck mr-1"></i> Deliver
                                        </button>
                                    </template>
                                    <button @click="openModal('viewOrder', order)" 
                                            class="px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-200 transition">
                                        <i class="fas fa-eye mr-1"></i> View
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <!-- ======================= -->
            <!-- KITCHEN TIMERS PAGE -->
            <!-- ======================= -->
            <div x-show="currentPage === 'kitchen-timers' && userRole === 'chef'" class="p-8 fade-in">
                <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-navy-800">Kitchen Timers</h3>
                        <div class="flex gap-3">
                            <button @click="addNewTimer()" class="px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition">
                                <i class="fas fa-plus mr-2"></i> Add Timer
                            </button>
                            <button @click="pauseAllTimers()" class="px-4 py-2 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition">
                                <i class="fas fa-pause mr-2"></i> Pause All
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <template x-for="timer in activeTimers" :key="timer.id">
                            <div :class="{
                                'border-red-200': timer.remaining <= 60,
                                'border-yellow-200': timer.remaining > 60 && timer.remaining <= 300,
                                'border-green-200': timer.remaining > 300,
                                'timer-expiring': timer.remaining <= 60
                            }" class="border rounded-xl p-6 bg-white hover:shadow-md transition">
                                <div class="flex justify-between items-start mb-4">
                                    <div>
                                        <h4 class="font-bold text-navy-800" x-text="timer.name"></h4>
                                        <p class="text-sm text-gray-600" x-text="timer.station"></p>
                                    </div>
                                    <div class="text-right">
                                        <span :class="{
                                            'bg-red-100 text-red-700': timer.status === 'Expired',
                                            'bg-green-100 text-green-700': timer.status === 'Running',
                                            'bg-yellow-100 text-yellow-700': timer.status === 'Paused'
                                        }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="timer.status"></span>
                                        <div class="mt-1 text-sm text-gray-600" x-text="timer.orderId ? 'Order: ' + timer.orderId : ''"></div>
                                    </div>
                                </div>
                                
                                <div class="text-center mb-4">
                                    <div class="text-4xl font-bold text-navy-800 mb-2" x-text="formatTimer(timer.remaining)"></div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div :class="{
                                            'bg-red-500': timer.remaining <= 60,
                                            'bg-yellow-500': timer.remaining > 60 && timer.remaining <= 300,
                                            'bg-green-500': timer.remaining > 300
                                        }" class="h-2 rounded-full" :style="'width: ' + ((timer.remaining / timer.total) * 100) + '%'"></div>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-3 gap-2">
                                    <button @click="timer.status === 'Running' ? pauseTimer(timer.id) : startTimer(timer.id)" 
                                            class="px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold hover:bg-blue-200 transition">
                                        <i :class="timer.status === 'Running' ? 'fas fa-pause' : 'fas fa-play'" class="mr-1"></i>
                                        <span x-text="timer.status === 'Running' ? 'Pause' : 'Start'"></span>
                                    </button>
                                    <button @click="resetTimer(timer.id)" 
                                            class="px-3 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-semibold hover:bg-yellow-200 transition">
                                        <i class="fas fa-redo mr-1"></i> Reset
                                    </button>
                                    <button @click="removeTimer(timer.id)" 
                                            class="px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-semibold hover:bg-red-200 transition">
                                        <i class="fas fa-trash mr-1"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <!-- ======================= -->
            <!-- PREP STATIONS PAGE -->
            <!-- ======================= -->
            <div x-show="currentPage === 'prep-stations' && userRole === 'chef'" class="p-8 fade-in">
                <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-navy-800">Prep Stations Management</h3>
                        <div class="flex gap-3">
                            <button @click="openModal('addStation')" class="px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition">
                                <i class="fas fa-plus mr-2"></i> Add Station
                            </button>
                            <button @click="generatePrepList()" class="px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition">
                                <i class="fas fa-clipboard-list mr-2"></i> Prep List
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Station Assignment -->
                        <div>
                            <h4 class="font-bold text-navy-800 mb-4">Station Assignment</h4>
                            <div class="space-y-4">
                                <template x-for="station in kitchenStations" :key="station.id">
                                    <div class="border border-gray-200 rounded-xl p-4">
                                        <div class="flex items-center justify-between mb-3">
                                            <div>
                                                <h5 class="font-semibold" x-text="station.name"></h5>
                                                <p class="text-sm text-gray-600" x-text="station.type"></p>
                                            </div>
                                            <select x-model="station.chef" class="px-3 py-1 border border-gray-200 rounded-lg text-sm">
                                                <option value="">Assign Chef</option>
                                                <template x-for="chef in availableChefs" :key="chef.id">
                                                    <option :value="chef.id" x-text="chef.name"></option>
                                                </template>
                                            </select>
                                        </div>
                                        <div class="flex gap-2">
                                            <button @click="openStationSettings(station)" 
                                                    class="flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold hover:bg-blue-200 transition">
                                                <i class="fas fa-cog mr-1"></i> Settings
                                            </button>
                                            <button @click="toggleStationStatus(station.id)" 
                                                    :class="station.status === 'Active' ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'"
                                                    class="flex-1 px-3 py-2 rounded-lg text-sm font-semibold hover:opacity-90 transition">
                                                <i :class="station.status === 'Active' ? 'fas fa-stop' : 'fas fa-play'" class="mr-1"></i>
                                                <span x-text="station.status === 'Active' ? 'Deactivate' : 'Activate'"></span>
                                            </button>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                        
                        <!-- Prep List -->
                        <div>
                            <h4 class="font-bold text-navy-800 mb-4">Today's Prep List</h4>
                            <div class="border border-gray-200 rounded-xl p-4 h-full">
                                <div class="space-y-3 max-h-96 overflow-y-auto">
                                    <template x-for="prepItem in prepList" :key="prepItem.id">
                                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                            <div class="flex items-center gap-3">
                                                <input type="checkbox" x-model="prepItem.completed" class="rounded">
                                                <div>
                                                    <p class="font-medium" x-text="prepItem.item"></p>
                                                    <p class="text-sm text-gray-600">
                                                        <span x-text="prepItem.quantity"></span> <span x-text="prepItem.unit"></span> â€¢ 
                                                        <span x-text="prepItem.station"></span>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <p class="text-sm font-semibold" x-text="prepItem.chef || 'Unassigned'"></p>
                                                <p class="text-xs text-gray-600" x-text="prepItem.dueTime"></p>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                                
                                <div class="mt-4 pt-4 border-t border-gray-200">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-gray-600">Completed:</span>
                                        <span class="font-semibold">
                                            <span x-text="prepList.filter(p => p.completed).length"></span>/<span x-text="prepList.length"></span>
                                        </span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                        <div class="bg-green-500 h-2 rounded-full" 
                                             :style="'width: ' + ((prepList.filter(p => p.completed).length / prepList.length) * 100) + '%'"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ======================= -->
            <!-- WAITER FLOOR MAP PAGE -->
            <!-- ======================= -->
            <div x-show="currentPage === 'floor-map' && userRole === 'waiter'" class="p-8 fade-in">
                <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-navy-800">Restaurant Floor Map</h3>
                        <div class="flex gap-3">
                            <button @click="printFloorPlan()" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-semibold hover:bg-blue-200 transition">
                                <i class="fas fa-print mr-2"></i> Print
                            </button>
                            <button @click="openModal('assignTables')" class="px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition">
                                <i class="fas fa-user-plus mr-2"></i> Assign Tables
                            </button>
                        </div>
                    </div>
                    
                    <!-- Enhanced Floor Map -->
                    <div class="relative bg-gray-100 rounded-xl p-6">
                        <!-- Restaurant Layout Visualization -->
                        <div class="grid grid-cols-6 gap-4 mb-8">
                            <!-- Window Side -->
                            <div class="col-span-4">
                                <div class="bg-blue-50 p-4 rounded-lg mb-4">
                                    <h4 class="font-semibold text-blue-800 mb-2">Window Side</h4>
                                    <div class="grid grid-cols-4 gap-3">
                                        <template x-for="table in waiterTables.slice(0, 4)" :key="table.table">
                                            <div @click="selectTable(table.table)"
                                                 :class="{
                                                     'table-available': table.status === 'Available',
                                                     'table-occupied': table.status === 'Occupied',
                                                     'table-reserved': table.status === 'Reserved',
                                                     'ring-2 ring-blue-500': selectedTable === table.table
                                                 }" 
                                                 class="border rounded-xl p-4 text-center cursor-pointer transition hover:scale-105">
                                                <div class="text-xl font-bold mb-1" x-text="table.table"></div>
                                                <div class="text-xs mb-1" x-text="table.status"></div>
                                                <div class="text-sm" x-text="table.guests + ' guests'"></div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bar Side -->
                            <div class="col-span-2">
                                <div class="bg-yellow-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-yellow-800 mb-2">Bar Side</h4>
                                    <div class="grid grid-cols-2 gap-3">
                                        <template x-for="table in waiterTables.slice(4)" :key="table.table">
                                            <div @click="selectTable(table.table)"
                                                 :class="{
                                                     'table-available': table.status === 'Available',
                                                     'table-occupied': table.status === 'Occupied',
                                                     'table-reserved': table.status === 'Reserved',
                                                     'ring-2 ring-blue-500': selectedTable === table.table
                                                 }" 
                                                 class="border rounded-xl p-4 text-center cursor-pointer transition hover:scale-105">
                                                <div class="text-xl font-bold mb-1" x-text="table.table"></div>
                                                <div class="text-xs mb-1" x-text="table.status"></div>
                                                <div class="text-sm" x-text="table.guests + ' guests'"></div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Selected Table Details -->
                        <div x-show="selectedTable" class="bg-white border border-gray-200 rounded-xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h4 class="text-lg font-bold text-navy-800">Table <span x-text="selectedTable"></span> Details</h4>
                                <button @click="selectedTable = null" class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <p class="text-sm text-gray-600 mb-1">Status</p>
                                    <p class="font-semibold" x-text="getTableDetails(selectedTable).status"></p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600 mb-1">Guests</p>
                                    <p class="font-semibold" x-text="getTableDetails(selectedTable).guests"></p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600 mb-1">Waiter</p>
                                    <p class="font-semibold" x-text="getTableDetails(selectedTable).waiter || 'Unassigned'"></p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600 mb-1">Time</p>
                                    <p class="font-semibold" x-text="getTableDetails(selectedTable).time || '--:--'"></p>
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <p class="text-sm text-gray-600 mb-1">Current Order</p>
                                <p class="font-medium" x-text="getTableDetails(selectedTable).order || 'No active order'"></p>
                            </div>
                            
                            <div class="mt-6 flex gap-3">
                                <button @click="openModal('takeOrderForTable')" class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">
                                    <i class="fas fa-plus mr-2"></i> Take Order
                                </button>
                                <button @click="openModal('transferTable')" class="flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition">
                                    <i class="fas fa-exchange-alt mr-2"></i> Transfer
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Table Statistics -->
                    <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-green-50 p-4 rounded-lg">
                            <p class="text-sm text-green-700 mb-1">Available</p>
                            <p class="text-2xl font-bold text-green-800" x-text="waiterTables.filter(t => t.status === 'Available').length"></p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <p class="text-sm text-blue-700 mb-1">Occupied</p>
                            <p class="text-2xl font-bold text-blue-800" x-text="waiterTables.filter(t => t.status === 'Occupied').length"></p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <p class="text-sm text-yellow-700 mb-1">Reserved</p>
                            <p class="text-2xl font-bold text-yellow-800" x-text="waiterTables.filter(t => t.status === 'Reserved').length"></p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <p class="text-sm text-purple-700 mb-1">Your Tables</p>
                            <p class="text-2xl font-bold text-purple-800" x-text="waiterTables.filter(t => t.waiter === waiterName).length"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ======================= -->
            <!-- CUSTOMER MANAGEMENT PAGE -->
            <!-- ======================= -->
            <div x-show="currentPage === 'customer-management' && userRole === 'waiter'" class="p-8 fade-in">
                <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-navy-800">Customer Management</h3>
                        <div class="flex gap-3">
                            <button @click="openModal('addCustomer')" class="px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">
                                <i class="fas fa-user-plus mr-2"></i> Add Customer
                            </button>
                            <button @click="exportCustomers()" class="px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition">
                                <i class="fas fa-download mr-2"></i> Export
                            </button>
                        </div>
                    </div>
                    
                    <!-- Customer Search -->
                    <div class="mb-6">
                        <div class="relative">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" x-model="customerSearch" placeholder="Search customers by name, phone, or room..." class="pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    
                    <!-- Customers List -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <template x-for="customer in filteredCustomers" :key="customer.id">
                            <div class="border border-gray-200 rounded-xl p-6 hover:shadow-md transition">
                                <div class="flex items-start justify-between mb-4">
                                    <div>
                                        <h4 class="font-bold text-navy-800" x-text="customer.name"></h4>
                                        <p class="text-sm text-gray-600" x-text="customer.room ? 'Room ' + customer.room : 'Walk-in Customer'"></p>
                                    </div>
                                    <span :class="{
                                        'bg-green-100 text-green-700': customer.status === 'Active',
                                        'bg-blue-100 text-blue-700': customer.status === 'Dining',
                                        'bg-gray-100 text-gray-700': customer.status === 'Checked-out'
                                    }" class="px-2 py-1 rounded-full text-xs font-semibold" x-text="customer.status"></span>
                                </div>
                                
                                <div class="space-y-2 mb-4">
                                    <div class="flex items-center text-sm text-gray-600">
                                        <i class="fas fa-phone mr-2 w-4"></i>
                                        <span x-text="customer.phone"></span>
                                    </div>
                                    <div class="flex items-center text-sm text-gray-600">
                                        <i class="fas fa-calendar mr-2 w-4"></i>
                                        <span x-text="customer.checkIn"></span>
                                    </div>
                                    <div class="flex items-center text-sm text-gray-600">
                                        <i class="fas fa-dollar-sign mr-2 w-4"></i>
                                        <span>Total Spent: $<span x-text="customer.totalSpent"></span></span>
                                    </div>
                                </div>
                                
                                <div class="flex gap-2">
                                    <button @click="viewCustomerDetails(customer)" class="flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold hover:bg-blue-200 transition">
                                        <i class="fas fa-eye mr-1"></i> View
                                    </button>
                                    <button @click="assignTableToCustomer(customer)" class="flex-1 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-semibold hover:bg-green-200 transition">
                                        <i class="fas fa-chair mr-1"></i> Assign
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <!-- ======================= -->
            <!-- SHIFT REPORT PAGE -->
            <!-- ======================= -->
            <div x-show="currentPage === 'shift-report' && userRole === 'waiter'" class="p-8 fade-in">
                <div class="bg-white rounded-2xl p-6 shadow-md border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-navy-800">Shift Report</h3>
                        <div class="flex gap-3">
                            <button @click="generateShiftReport()" class="px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">
                                <i class="fas fa-sync-alt mr-2"></i> Refresh
                            </button>
                            <button @click="printShiftReport()" class="px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition">
                                <i class="fas fa-print mr-2"></i> Print Report
                            </button>
                        </div>
                    </div>
                    
                    <!-- Shift Summary -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-blue-50 p-6 rounded-xl">
                            <p class="text-sm text-blue-700 mb-1">Total Sales</p>
                            <p class="text-3xl font-bold text-blue-800">$<span x-text="shiftReport.totalSales.toFixed(2)"></span></p>
                        </div>
                        <div class="bg-green-50 p-6 rounded-xl">
                            <p class="text-sm text-green-700 mb-1">Tables Served</p>
                            <p class="text-3xl font-bold text-green-800" x-text="shiftReport.tablesServed"></p>
                        </div>
                        <div class="bg-yellow-50 p-6 rounded-xl">
                            <p class="text-sm text-yellow-700 mb-1">Average Check</p>
                            <p class="text-3xl font-bold text-yellow-800">$<span x-text="shiftReport.averageCheck.toFixed(2)"></span></p>
                        </div>
                        <div class="bg-purple-50 p-6 rounded-xl">
                            <p class="text-sm text-purple-700 mb-1">Tips Received</p>
                            <p class="text-3xl font-bold text-purple-800">$<span x-text="shiftReport.tips.toFixed(2)"></span></p>
                        </div>
                    </div>
                    
                    <!-- Detailed Breakdown -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Sales by Category -->
                        <div class="bg-gray-50 p-6 rounded-xl">
                            <h4 class="font-bold text-navy-800 mb-4">Sales by Category</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span>Food</span>
                                        <span class="font-semibold">$<span x-text="shiftReport.foodSales.toFixed(2)"></span></span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-green-500 h-2 rounded-full" :style="'width: ' + ((shiftReport.foodSales / shiftReport.totalSales) * 100) + '%'"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span>Beverages</span>
                                        <span class="font-semibold">$<span x-text="shiftReport.beverageSales.toFixed(2)"></span></span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-blue-500 h-2 rounded-full" :style="'width: ' + ((shiftReport.beverageSales / shiftReport.totalSales) * 100) + '%'"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span>Desserts</span>
                                        <span class="font-semibold">$<span x-text="shiftReport.dessertSales.toFixed(2)"></span></span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-purple-500 h-2 rounded-full" :style="'width: ' + ((shiftReport.dessertSales / shiftReport.totalSales) * 100) + '%'"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Methods -->
                        <div class="bg-gray-50 p-6 rounded-xl">
                            <h4 class="font-bold text-navy-800 mb-4">Payment Methods</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <div class="flex items-center gap-3">
                                        <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-credit-card text-blue-600"></i>
                                        </div>
                                        <span>Credit Card</span>
                                    </div>
                                    <span class="font-semibold">$<span x-text="shiftReport.creditCard.toFixed(2)"></span></span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <div class="flex items-center gap-3">
                                        <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-money-bill text-green-600"></i>
                                        </div>
                                        <span>Cash</span>
                                    </div>
                                    <span class="font-semibold">$<span x-text="shiftReport.cash.toFixed(2)"></span></span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <div class="flex items-center gap-3">
                                        <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-mobile-alt text-purple-600"></i>
                                        </div>
                                        <span>Digital Wallet</span>
                                    </div>
                                    <span class="font-semibold">$<span x-text="shiftReport.digitalWallet.toFixed(2)"></span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Shift Notes -->
                    <div class="mt-6">
                        <h4 class="font-bold text-navy-800 mb-4">Shift Notes</h4>
                        <textarea x-model="shiftReport.notes" rows="4" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Add notes about your shift..."></textarea>
                    </div>
                    
                    <!-- End Shift Button -->
                    <div class="mt-6 flex justify-end">
                        <button @click="endShift()" class="px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition">
                            <i class="fas fa-stop mr-2"></i> End Shift
                        </button>
                    </div>
                </div>
            </div>

            <!-- ======================= -->
            <!-- EXISTING ADMIN PAGES -->
            <!-- ======================= -->
            <!-- BOOKINGS PAGE -->
            <div x-show="currentPage === 'bookings' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing bookings page code -->
            </div>

            <!-- GUESTS PAGE -->
            <div x-show="currentPage === 'guests' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing guests page code -->
            </div>

            <!-- ROOMS PAGE -->
            <div x-show="currentPage === 'rooms' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing rooms page code -->
            </div>

            <!-- STAFF PAGE -->
            <div x-show="currentPage === 'staff' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing staff page code -->
            </div>

            <!-- SERVICES PAGE -->
            <div x-show="currentPage === 'services' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing services page code -->
            </div>

            <!-- FINANCE PAGE -->
            <div x-show="currentPage === 'finance' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing finance page code -->
            </div>

            <!-- ANALYTICS PAGE -->
            <div x-show="currentPage === 'analytics' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing analytics page code -->
            </div>

            <!-- SETTINGS PAGE -->
            <div x-show="currentPage === 'settings' && userRole === 'admin'" class="p-8 fade-in">
                <!-- Existing settings page code -->
            </div>

            <!-- ======================= -->
            <!-- EXISTING MENU MANAGEMENT -->
            <!-- ======================= -->
            <div x-show="currentPage === 'menu-management' && userRole === 'chef'" class="p-8 fade-in">
                <!-- Existing menu management code -->
            </div>

            <!-- ======================= -->
            <!-- EXISTING KITCHEN MENU -->
            <!-- ======================= -->
            <div x-show="currentPage === 'kitchen-menu' && userRole === 'chef'" class="p-8 fade-in">
                <!-- Existing kitchen menu code -->
            </div>

            <!-- ======================= -->
            <!-- EXISTING INVENTORY -->
            <!-- ======================= -->
            <div x-show="currentPage === 'inventory' && userRole === 'chef'" class="p-8 fade-in">
                <!-- Existing inventory code -->
            </div>

            <!-- ======================= -->
            <!-- EXISTING KITCHEN SCHEDULE -->
            <!-- ======================= -->
            <div x-show="currentPage === 'kitchen-schedule' && userRole === 'chef'" class="p-8 fade-in">
                <!-- Existing kitchen schedule code -->
            </div>

            <!-- ======================= -->
            <!-- EXISTING WAITER PAGES -->
            <!-- ======================= -->
            <div x-show="currentPage === 'tables' && userRole === 'waiter'" class="p-8 fade-in">
                <!-- Existing tables page code -->
            </div>

            <div x-show="currentPage === 'take-order' && userRole === 'waiter'" class="p-8 fade-in">
                <!-- Existing take order page code -->
            </div>

            <div x-show="currentPage === 'active-orders' && userRole === 'waiter'" class="p-8 fade-in">
                <!-- Existing active orders page code -->
            </div>

            <div x-show="currentPage === 'billing' && userRole === 'waiter'" class="p-8 fade-in">
                <!-- Existing billing page code -->
            </div>

            <!-- ======================= -->
            <!-- EXISTING LAUNDRY PAGES -->
            <!-- ======================= -->
            <div x-show="currentPage === 'laundry-jobs' && userRole === 'laundry'" class="p-8 fade-in">
                <!-- Existing laundry jobs page code -->
            </div>

            <div x-show="currentPage === 'pickup-schedule' && userRole === 'laundry'" class="p-8 fade-in">
                <!-- Existing pickup schedule page code -->
            </div>

            <div x-show="currentPage === 'laundry-inventory' && userRole === 'laundry'" class="p-8 fade-in">
                <!-- Existing laundry inventory page code -->
            </div>

            <div x-show="currentPage === 'machine-status' && userRole === 'laundry'" class="p-8 fade-in">
                <!-- Existing machine status page code -->
            </div>

        </main>
    </div>

    <!-- ======================= -->
    <!-- MODAL SYSTEM -->
    <!-- ======================= -->
    <template x-if="activeModal">
        <div class="modal-overlay" @click="closeModal">
            <div class="modal-content" @click.stop>
                <!-- View Order Modal for Chef -->
                <div x-show="activeModal === 'viewOrder'">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-navy-800">Order Details</h3>
                            <button @click="closeModal()" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <p class="text-sm text-blue-700 mb-1">Order Number</p>
                                    <p class="text-lg font-semibold" x-text="'#' + editingItem.id"></p>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <p class="text-sm text-green-700 mb-1">Table</p>
                                    <p class="text-lg font-semibold" x-text="editingItem.table"></p>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Items</label>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <p x-text="editingItem.items"></p>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Special Instructions</label>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <p x-text="editingItem.specialInstructions || 'None'"></p>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-3 gap-4">
                                <div class="text-center">
                                    <p class="text-sm text-gray-600 mb-1">Status</p>
                                    <span :class="{
                                        'bg-yellow-100 text-yellow-700': editingItem.status === 'Pending',
                                        'bg-blue-100 text-blue-700': editingItem.status === 'Cooking',
                                        'bg-green-100 text-green-700': editingItem.status === 'Ready'
                                    }" class="px-3 py-1 rounded-full text-sm font-semibold" x-text="editingItem.status"></span>
                                </div>
                                <div class="text-center">
                                    <p class="text-sm text-gray-600 mb-1">Priority</p>
                                    <span :class="{
                                        'bg-red-100 text-red-700': editingItem.priority === 'High',
                                        'bg-yellow-100 text-yellow-700': editingItem.priority === 'Normal'
                                    }" class="px-3 py-1 rounded-full text-sm font-semibold" x-text="editingItem.priority"></span>
                                </div>
                                <div class="text-center">
                                    <p class="text-sm text-gray-700 mb-1">Amount</p>
                                    <p class="text-lg font-bold">$<span x-text="editingItem.amount"></span></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex gap-3 mt-8">
                            <button @click="closeModal()" class="flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                                Close
                            </button>
                            <button @click="printKitchenTicket(editingItem)" class="flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition">
                                <i class="fas fa-print mr-2"></i> Print Ticket
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Add Station Modal -->
                <div x-show="activeModal === 'addStation'">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-navy-800">Add Prep Station</h3>
                            <button @click="closeModal()" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="form-group">
                                <label class="form-label">Station Name</label>
                                <input type="text" x-model="newStation.name" class="form-input" placeholder="e.g., Grill Station">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Station Type</label>
                                <select x-model="newStation.type" class="form-input">
                                    <option value="Cooking">Cooking</option>
                                    <option value="Prep">Prep</option>
                                    <option value="Cold Prep">Cold Prep</option>
                                    <option value="Bakery">Bakery</option>
                                    <option value="Sauce">Sauce</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Default Temperature</label>
                                <input type="text" x-model="newStation.temperature" class="form-input" placeholder="e.g., 350Â°F">
                            </div>
                        </div>
                        
                        <div class="flex gap-3 mt-8">
                            <button @click="closeModal()" class="flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                                Cancel
                            </button>
                            <button @click="addNewStation()" class="flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition">
                                Add Station
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Take Order for Table Modal -->
                <div x-show="activeModal === 'takeOrderForTable'">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-navy-800">Take Order for Table <span x-text="selectedTable"></span></h3>
                            <button @click="closeModal()" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="form-group">
                                <label class="form-label">Number of Guests</label>
                                <input type="number" x-model="tableOrder.guests" min="1" max="12" class="form-input" value="2">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Order Items</label>
                                <textarea x-model="tableOrder.items" rows="4" class="form-input" placeholder="Enter order items..."></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Special Instructions</label>
                                <textarea x-model="tableOrder.specialInstructions" rows="2" class="form-input" placeholder="Any special requests?"></textarea>
                            </div>
                        </div>
                        
                        <div class="flex gap-3 mt-8">
                            <button @click="closeModal()" class="flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                                Cancel
                            </button>
                            <button @click="submitTableOrder()" class="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">
                                Submit Order
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Split Bill Modal -->
                <div x-show="activeModal === 'splitBill'">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-navy-800">Split Bill</h3>
                            <button @click="closeModal()" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="form-group">
                                <label class="form-label">Table Number</label>
                                <select x-model="splitBill.table" class="form-input">
                                    <option value="">Select Table</option>
                                    <option value="T01">T01</option>
                                    <option value="T02">T02</option>
                                    <option value="T03">T03</option>
                                    <option value="T04">T04</option>
                                    <option value="T05">T05</option>
                                    <option value="T06">T06</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Number of Ways to Split</label>
                                <select x-model="splitBill.ways" class="form-input">
                                    <option value="2">2 ways</option>
                                    <option value="3">3 ways</option>
                                    <option value="4">4 ways</option>
                                    <option value="5">5 ways</option>
                                    <option value="6">6 ways</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Total Amount</label>
                                <input type="number" x-model="splitBill.total" class="form-input" placeholder="0.00">
                            </div>
                            
                            <div x-show="splitBill.total && splitBill.ways" class="bg-green-50 p-4 rounded-lg">
                                <p class="text-sm text-green-700 mb-1">Each Person Pays:</p>
                                <p class="text-2xl font-bold text-green-800">$<span x-text="(splitBill.total / splitBill.ways).toFixed(2)"></span></p>
                            </div>
                        </div>
                        
                        <div class="flex gap-3 mt-8">
                            <button @click="closeModal()" class="flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                                Cancel
                            </button>
                            <button @click="processSplitBill()" class="flex-1 px-4 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition">
                                Split Bill
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Add Customer Modal -->
                <div x-show="activeModal === 'addCustomer'">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-navy-800">Add Customer</h3>
                            <button @click="closeModal()" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="form-group">
                                    <label class="form-label">First Name</label>
                                    <input type="text" x-model="newCustomer.firstName" class="form-input" placeholder="John">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Last Name</label>
                                    <input type="text" x-model="newCustomer.lastName" class="form-input" placeholder="Doe">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" x-model="newCustomer.phone" class="form-input" placeholder="+1 (555) 123-4567">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Room Number (if hotel guest)</label>
                                <input type="text" x-model="newCustomer.room" class="form-input" placeholder="Optional">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Special Notes</label>
                                <textarea x-model="newCustomer.notes" rows="2" class="form-input" placeholder="Allergies, preferences, etc."></textarea>
                            </div>
                        </div>
                        
                        <div class="flex gap-3 mt-8">
                            <button @click="closeModal()" class="flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                                Cancel
                            </button>
                            <button @click="saveNewCustomer()" class="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">
                                Add Customer
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Existing modals... -->
                <!-- Keep all existing modal templates from your original file -->
                
            </div>
        </div>
    </template>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('dashboardData', () => ({
                // Current state
                currentPage: 'dashboard',
                userRole: 'admin',
                activeModal: null,
                
                // ========================
                // ENHANCED CHEF DATA
                // ========================
                kitchenOpen: true,
                maxActiveOrders: 15,
                avgPrepTime: 24,
                kitchenStations: [
                    { id: 1, name: 'Grill Station', type: 'Cooking', status: 'Active', currentOrder: 'KO001', temperature: '425Â°F', timer: '8:30', chef: '1' },
                    { id: 2, name: 'Salad Prep', type: 'Cold Prep', status: 'Active', currentOrder: 'KO002', temperature: '38Â°F', timer: '12:45', chef: '2' },
                    { id: 3, name: 'Fry Station', type: 'Cooking', status: 'Maintenance', currentOrder: null, temperature: 'Off', timer: '0:00', chef: null },
                    { id: 4, name: 'Dessert Station', type: 'Prep', status: 'Idle', currentOrder: null, temperature: '75Â°F', timer: '0:00', chef: '3' }
                ],
                activeTimers: [
                    { id: 1, name: 'Salmon Grill', station: 'Grill', orderId: 'KO001', total: 900, remaining: 510, status: 'Running' },
                    { id: 2, name: 'Pasta Boil', station: 'Boil', orderId: 'KO002', total: 600, remaining: 240, status: 'Running' },
                    { id: 3, name: 'Garlic Bread', station: 'Oven', orderId: 'KO003', total: 300, remaining: 45, status: 'Expired' }
                ],
                availableChefs: [
                    { id: 1, name: 'Chef David' },
                    { id: 2, name: 'Sous Maria' },
                    { id: 3, name: 'Pastry Lisa' },
                    { id: 4, name: 'Prep John' }
                ],
                prepList: [
                    { id: 1, item: 'Chop Vegetables', quantity: 10, unit: 'kg', station: 'Prep', chef: 'Prep John', dueTime: '10:00 AM', completed: true },
                    { id: 2, item: 'Marinate Chicken', quantity: 15, unit: 'kg', station: 'Prep', chef: 'Sous Maria', dueTime: '11:00 AM', completed: true },
                    { id: 3, item: 'Prepare Sauces', quantity: 8, unit: 'L', station: 'Sauce', chef: 'Chef David', dueTime: '12:00 PM', completed: false },
                    { id: 4, item: 'Bake Bread', quantity: 50, unit: 'pieces', station: 'Bakery', chef: 'Pastry Lisa', dueTime: '1:00 PM', completed: false },
                    { id: 5, item: 'Portion Fish', quantity: 12, unit: 'kg', station: 'Prep', chef: null, dueTime: '2:00 PM', completed: false }
                ],
                
                // Chef POS System
                currentOrder: {
                    items: [],
                    table: '',
                    guests: 2,
                    specialInstructions: '',
                    subtotal: 0,
                    tax: 0,
                    serviceCharge: 0,
                    total: 0
                },
                currentQueueFilter: 'all',
                menuSearch: '',
                menuCategoryFilter: '',
                
                // ========================
                // ENHANCED WAITER DATA
                // ========================
                waiterName: 'John Waiter',
                currentShift: 'Evening (2 PM - 10 PM)',
                totalGuestsToday: 42,
                averageCheck: 65.80,
                serviceRating: 4.8,
                selectedTable: null,
                shiftActive: true,
                
                waiterTables: [
                    { table: 'T01', status: 'Available', guests: 0, order: 'None', time: '', waiter: null },
                    { table: 'T02', status: 'Occupied', guests: 4, order: 'Pending', time: '45 min', waiter: 'John Waiter' },
                    { table: 'T03', status: 'Available', guests: 0, order: 'None', time: '', waiter: null },
                    { table: 'T04', status: 'Occupied', guests: 2, order: 'Served', time: '20 min', waiter: 'John Waiter' },
                    { table: 'T05', status: 'Reserved', guests: 6, order: 'None', time: '7:00 PM', waiter: null },
                    { table: 'T06', status: 'Occupied', guests: 3, order: 'Ready', time: '15 min', waiter: 'Sarah Waiter' }
                ],
                
                // Customer Management
                customerSearch: '',
                customers: [
                    { id: 1, name: 'John Smith', phone: '+1-555-1234', room: '301', status: 'Active', checkIn: '2024-01-15', totalSpent: 1250 },
                    { id: 2, name: 'Emma Wilson', phone: '+1-555-5678', room: '205', status: 'Dining', checkIn: '2024-01-16', totalSpent: 850 },
                    { id: 3, name: 'Robert Chen', phone: '+1-555-9012', room: '412', status: 'Active', checkIn: '2024-01-14', totalSpent: 450 },
                    { id: 4, name: 'Sarah Johnson', phone: '+1-555-3456', room: null, status: 'Checked-out', checkIn: '2024-01-13', totalSpent: 3200 },
                    { id: 5, name: 'Michael Brown', phone: '+1-555-7890', room: '305', status: 'Dining', checkIn: '2024-01-17', totalSpent: 1750 }
                ],
                newCustomer: {
                    firstName: '',
                    lastName: '',
                    phone: '',
                    room: '',
                    notes: ''
                },
                
                // Shift Report
                shiftReport: {
                    totalSales: 1256.80,
                    tablesServed: 8,
                    averageCheck: 157.10,
                    tips: 125.68,
                    foodSales: 856.50,
                    beverageSales: 320.30,
                    dessertSales: 80.00,
                    creditCard: 1000.00,
                    cash: 200.00,
                    digitalWallet: 56.80,
                    notes: ''
                },
                
                // Split Bill
                splitBill: {
                    table: '',
                    ways: 2,
                    total: 0
                },
                
                // Table Order
                tableOrder: {
                    guests: 2,
                    items: '',
                    specialInstructions: ''
                },
                
                // New Station
                newStation: {
                    name: '',
                    type: 'Cooking',
                    temperature: ''
                },
                
                // ========================
                // EXISTING DATA (keep from original)
                // ========================
                stats: {
                    totalRevenue: 245680,
                    activeGuests: 42,
                    totalBookings: 156,
                    occupancyRate: 85.5
                },
                
                recentBookings: [
                    { id: 'BK001', guest: 'John Smith', room: 'Deluxe Suite', checkin: '2024-01-15', checkout: '2024-01-20', status: 'active', amount: 1250 },
                    { id: 'BK002', guest: 'Emma Wilson', room: 'Executive', checkin: '2024-01-16', checkout: '2024-01-18', status: 'confirmed', amount: 850 },
                    { id: 'BK003', guest: 'Robert Chen', room: 'Standard', checkin: '2024-01-14', checkout: '2024-01-17', status: 'pending', amount: 450 },
                    { id: 'BK004', guest: 'Sarah Johnson', room: 'Presidential', checkin: '2024-01-13', checkout: '2024-01-19', status: 'completed', amount: 3200 },
                    { id: 'BK005', guest: 'Michael Brown', room: 'Deluxe Suite', checkin: '2024-01-17', checkout: '2024-01-22', status: 'active', amount: 1750 }
                ],
                
                guests: [
                    { id: 1, name: 'John Smith', email: 'john@email.com', phone: '+1 555-1234', room: '301', checkin: '2024-01-15', status: 'checked-in', tier: 'Gold' },
                    { id: 2, name: 'Emma Wilson', email: 'emma@email.com', phone: '+1 555-5678', room: '205', checkin: '2024-01-16', status: 'confirmed', tier: 'Platinum' },
                    { id: 3, name: 'Robert Chen', email: 'robert@email.com', phone: '+1 555-9012', room: '412', checkin: '2024-01-14', status: 'checked-in', tier: 'Silver' },
                    { id: 4, name: 'Sarah Johnson', email: 'sarah@email.com', phone: '+1 555-3456', room: '501', checkin: '2024-01-13', status: 'pending', tier: 'Gold' },
                    { id: 5, name: 'Michael Brown', email: 'michael@email.com', phone: '+1 555-7890', room: '305', checkin: '2024-01-17', status: 'checked-in', tier: 'Platinum' }
                ],
                
                rooms: [
                    { id: 1, number: '101', type: 'Standard Room', floor: '1', price: 150, status: 'available' },
                    { id: 2, number: '205', type: 'Deluxe Suite', floor: '2', price: 300, status: 'occupied', guest: 'Emma Wilson' },
                    { id: 3, number: '301', type: 'Executive Suite', floor: '3', price: 450, status: 'occupied', guest: 'John Smith' },
                    { id: 4, number: '412', type: 'Standard Room', floor: '4', price: 150, status: 'occupied', guest: 'Robert Chen' },
                    { id: 5, number: '501', type: 'Presidential Suite', floor: '5', price: 800, status: 'reserved' },
                    { id: 6, number: '305', type: 'Deluxe Suite', floor: '3', price: 300, status: 'cleaning' }
                ],
                
                staff: [
                    { id: 1, name: 'David Lee', role: 'Manager', department: 'Management', shift: 'Day', status: 'Active', performance: 95 },
                    { id: 2, name: 'Maria Garcia', role: 'Receptionist', department: 'Front Desk', shift: 'Morning', status: 'Active', performance: 88 },
                    { id: 3, name: 'James Wilson', role: 'Housekeeper', department: 'Housekeeping', shift: 'Day', status: 'Active', performance: 92 },
                    { id: 4, name: 'Lisa Wang', role: 'Chef', department: 'Kitchen', shift: 'Evening', status: 'Active', performance: 90 }
                ],
                
                services: [
                    { id: 1, name: 'Room Service', requests: 156, completed: 142, pending: 14, avgTime: '25 min' },
                    { id: 2, name: 'Spa & Wellness', requests: 89, completed: 85, pending: 4, avgTime: '60 min' },
                    { id: 3, name: 'Laundry', requests: 203, completed: 195, pending: 8, avgTime: '4 hours' }
                ],
                
                transactions: [
                    { id: 1, type: 'Room Booking', guest: 'John Smith', amount: 1250, date: '2024-01-15' },
                    { id: 2, type: 'Restaurant', guest: 'Emma Wilson', amount: 156, date: '2024-01-16' },
                    { id: 3, type: 'Spa Service', guest: 'Robert Chen', amount: 220, date: '2024-01-14' },
                    { id: 4, type: 'Room Service', guest: 'Sarah Johnson', amount: 85, date: '2024-01-13' }
                ],
                
                // Chef data
                chefOrders: [
                    { id: 'KO001', guest: 'John Smith', room: '301', items: 'Grilled Salmon x2, Caesar Salad', priority: 'High', status: 'Cooking', time: '12:30 PM', table: 'T02', guests: 4, amount: '86.40' },
                    { id: 'KO002', guest: 'Emma Wilson', room: '205', items: 'Pasta Carbonara, Red Wine', priority: 'Normal', status: 'Pending', time: '12:45 PM', table: 'T04', guests: 2, amount: '51.48' },
                    { id: 'KO003', guest: 'Room Service', room: '412', items: 'Club Sandwich, French Fries', priority: 'Low', status: 'Ready', time: '1:00 PM', table: null, guests: 1, amount: '19.80' }
                ],
                
                chefMenu: [
                    { id: 1, name: 'Grilled Salmon', category: 'Main Course', price: 28, status: 'Available', prepTime: '25 min', availablePortions: 24 },
                    { id: 2, name: 'Caesar Salad', category: 'Appetizer', price: 12, status: 'Available', prepTime: '15 min', availablePortions: 26 },
                    { id: 3, name: 'Pasta Carbonara', category: 'Main Course', price: 22, status: 'Available', prepTime: '20 min', availablePortions: 41 },
                    { id: 4, name: 'Chocolate Cake', category: 'Dessert', price: 10, status: 'Available', prepTime: '10 min', availablePortions: 120 },
                    { id: 5, name: 'Red Wine', category: 'Beverage', price: 25, status: 'Available', prepTime: '5 min', availablePortions: 50 },
                    { id: 6, name: 'Club Sandwich', category: 'Main Course', price: 16, status: 'Available', prepTime: '12 min', availablePortions: 33 }
                ],
                
                // Waiter data
                waiterMenuItems: [
                    { id: 1, name: 'Grilled Salmon', category: 'Main', price: 28, availablePortions: 24 },
                    { id: 2, name: 'Caesar Salad', category: 'Appetizer', price: 12, availablePortions: 26 },
                    { id: 3, name: 'Pasta Carbonara', category: 'Main', price: 22, availablePortions: 41 },
                    { id: 4, name: 'Red Wine', category: 'Beverage', price: 25, availablePortions: 50 },
                    { id: 5, name: 'Chocolate Cake', category: 'Dessert', price: 10, availablePortions: 120 },
                    { id: 6, name: 'Club Sandwich', category: 'Main', price: 16, availablePortions: 33 }
                ],
                
                waiterOrders: [
                    { id: 'WO001', table: 'T02', items: 'Grilled Salmon x2, Caesar Salad', status: 'Pending', amount: 68 },
                    { id: 'WO002', table: 'T04', items: 'Pasta Carbonara, Red Wine', status: 'Served', amount: 47 },
                    { id: 'WO003', table: 'T06', items: 'Club Sandwich x3', status: 'Ready', amount: 48 }
                ],
                
                // Laundry data
                laundryJobs: [
                    { id: 'LJ001', room: '305', guest: 'Sarah Johnson', items: '2 shirts, 1 pants', type: 'Wash & Iron', status: 'Processing', delivery: 'Today 3 PM' },
                    { id: 'LJ002', room: '412', guest: 'Michael Chen', items: '3 towels, 1 robe', type: 'Wash & Fold', status: 'Ready', delivery: 'Today 4 PM' },
                    { id: 'LJ003', room: '208', guest: 'Emma Wilson', items: '1 suit', type: 'Dry Clean', status: 'Delivered', delivery: 'Completed' },
                    { id: 'LJ004', room: 'Hotel', guest: 'Hotel Linen', items: '50 bedsheets', type: 'Hotel Linen', status: 'Processing', delivery: 'Tomorrow 10 AM' }
                ],
                
                laundryInventory: [
                    { item: 'Detergent', quantity: 45, unit: 'L', status: 'Good' },
                    { item: 'Fabric Softener', quantity: 32, unit: 'L', status: 'Good' },
                    { item: 'Bleach', quantity: 18, unit: 'L', status: 'Low' },
                    { item: 'Dryer Sheets', quantity: 12, unit: 'packs', status: 'Critical' },
                    { item: 'Starch', quantity: 25, unit: 'L', status: 'Good' },
                    { item: 'Plastic Covers', quantity: 150, unit: 'pieces', status: 'Good' }
                ],
                
                laundryMachines: [
                    { id: 'WM-01', type: 'Washing Machine', status: 'Running', capacity: '10 kg', cycle: 'Wash' },
                    { id: 'WM-02', type: 'Washing Machine', status: 'Idle', capacity: '15 kg', cycle: 'None' },
                    { id: 'DR-01', type: 'Dryer', status: 'Available', capacity: '12 kg', cycle: 'None' },
                    { id: 'IR-01', type: 'Ironing Machine', status: 'Running', capacity: 'N/A', cycle: 'Ironing' }
                ],
                
                // Modal data
                errorMessage: '',
                successMessage: '',
                editingItem: null,
                restockingItem: null,
                restockAmount: 0,
                isSyncing: false,
                
                // ========================
                // INITIALIZATION
                // ========================
                initDashboard() {
                    // Initialize charts
                    setTimeout(() => {
                        this.createRevenueChart();
                        this.createOccupancyChart();
                        this.createRoomStatusChart();
                        this.createDemographicsChart();
                    }, 100);
                    
                    // Initialize inventory
                    this.initInventory();
                    
                    // Start real-time sync
                    this.startRealtimeSync();
                },
                
                // ========================
                // ENHANCED CHEF METHODS
                // ========================
                toggleKitchenStatus() {
                    this.kitchenOpen = !this.kitchenOpen;
                    this.showSuccess(`Kitchen ${this.kitchenOpen ? 'opened' : 'closed'}`);
                },
                
                formatTimer(seconds) {
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    return `${mins}:${secs.toString().padStart(2, '0')}`;
                },
                
                addNewTimer() {
                    const newTimer = {
                        id: Date.now(),
                        name: 'New Timer',
                        station: 'General',
                        orderId: null,
                        total: 600,
                        remaining: 600,
                        status: 'Paused'
                    };
                    this.activeTimers.push(newTimer);
                    this.showSuccess('New timer added');
                },
                
                startTimer(timerId) {
                    const timer = this.activeTimers.find(t => t.id === timerId);
                    if (timer) {
                        timer.status = 'Running';
                        // Start countdown
                        const interval = setInterval(() => {
                            if (timer.remaining > 0 && timer.status === 'Running') {
                                timer.remaining--;
                                if (timer.remaining === 0) {
                                    timer.status = 'Expired';
                                    clearInterval(interval);
                                    this.showError(`Timer "${timer.name}" has expired!`);
                                }
                            } else {
                                clearInterval(interval);
                            }
                        }, 1000);
                    }
                },
                
                pauseTimer(timerId) {
                    const timer = this.activeTimers.find(t => t.id === timerId);
                    if (timer) {
                        timer.status = 'Paused';
                    }
                },
                
                pauseAllTimers() {
                    this.activeTimers.forEach(timer => {
                        if (timer.status === 'Running') {
                            timer.status = 'Paused';
                        }
                    });
                    this.showSuccess('All timers paused');
                },
                
                resetTimer(timerId) {
                    const timer = this.activeTimers.find(t => t.id === timerId);
                    if (timer) {
                        timer.remaining = timer.total;
                        timer.status = 'Paused';
                    }
                },
                
                removeTimer(timerId) {
                    this.activeTimers = this.activeTimers.filter(t => t.id !== timerId);
                    this.showSuccess('Timer removed');
                },
                
                // POS Methods
                get filteredMenuItems() {
                    return this.chefMenu.filter(item => {
                        const matchesSearch = !this.menuSearch || 
                            item.name.toLowerCase().includes(this.menuSearch.toLowerCase()) ||
                            item.category.toLowerCase().includes(this.menuSearch.toLowerCase());
                        const matchesCategory = !this.menuCategoryFilter || 
                            item.category === this.menuCategoryFilter;
                        return matchesSearch && matchesCategory;
                    });
                },
                
                addItemToPOS(item) {
                    const existingItem = this.currentOrder.items.find(i => i.id === item.id);
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        this.currentOrder.items.push({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            quantity: 1,
                            category: item.category,
                            notes: ''
                        });
                    }
                    this.calculateOrderTotal();
                },
                
                removeItemFromPOS(index) {
                    this.currentOrder.items.splice(index, 1);
                    this.calculateOrderTotal();
                },
                
                calculateOrderTotal() {
                    this.currentOrder.subtotal = this.currentOrder.items.reduce((sum, item) => 
                        sum + (item.price * item.quantity), 0
                    );
                    this.currentOrder.tax = this.currentOrder.subtotal * 0.08;
                    this.currentOrder.serviceCharge = this.currentOrder.subtotal * 0.10;
                    this.currentOrder.total = this.currentOrder.subtotal + this.currentOrder.tax + this.currentOrder.serviceCharge;
                },
                
                clearOrder() {
                    this.currentOrder = {
                        items: [],
                        table: '',
                        guests: 2,
                        specialInstructions: '',
                        subtotal: 0,
                        tax: 0,
                        serviceCharge: 0,
                        total: 0
                    };
                },
                
                submitPOSOrder() {
                    if (this.currentOrder.items.length === 0) {
                        this.showError('Please add items to the order');
                        return;
                    }
                    
                    if (!this.currentOrder.table) {
                        this.showError('Please select a table');
                        return;
                    }
                    
                    // Create new order
                    const newOrder = {
                        id: 'KO' + (this.chefOrders.length + 1).toString().padStart(3, '0'),
                        guest: 'Guest',
                        table: this.currentOrder.table,
                        guests: this.currentOrder.guests,
                        items: this.currentOrder.items.map(item => `${item.name} x${item.quantity}`).join(', '),
                        priority: 'Normal',
                        status: 'Pending',
                        time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                        specialInstructions: this.currentOrder.specialInstructions,
                        amount: this.currentOrder.total.toFixed(2)
                    };
                    
                    // Add to chef orders
                    this.chefOrders.unshift(newOrder);
                    
                    // Clear current order
                    this.clearOrder();
                    
                    // Show success message
                    this.showSuccess(`Order #${newOrder.id} submitted to kitchen`);
                },
                
                getFilteredOrders() {
                    if (this.currentQueueFilter === 'all') {
                        return this.chefOrders;
                    }
                    return this.chefOrders.filter(order => 
                        order.status === this.currentQueueFilter
                    );
                },
                
                updateOrderStatus(orderId, newStatus) {
                    const order = this.chefOrders.find(o => o.id === orderId);
                    if (order) {
                        order.status = newStatus;
                        this.showSuccess(`Order #${orderId} marked as ${newStatus}`);
                    }
                },
                
                printKitchenTicket(order) {
                    // Simulate printing
                    console.log('Printing kitchen ticket for order:', order);
                    this.showSuccess('Kitchen ticket sent to printer');
                    this.closeModal();
                },
                
                addNewStation() {
                    const newStation = {
                        id: Date.now(),
                        name: this.newStation.name,
                        type: this.newStation.type,
                        status: 'Idle',
                        currentOrder: null,
                        temperature: this.newStation.temperature,
                        timer: '0:00',
                        chef: null
                    };
                    
                    this.kitchenStations.push(newStation);
                    this.newStation = { name: '', type: 'Cooking', temperature: '' };
                    this.closeModal();
                    this.showSuccess('New prep station added');
                },
                
                toggleStationStatus(stationId) {
                    const station = this.kitchenStations.find(s => s.id === stationId);
                    if (station) {
                        station.status = station.status === 'Active' ? 'Idle' : 'Active';
                        this.showSuccess(`Station ${station.name} ${station.status === 'Active' ? 'activated' : 'deactivated'}`);
                    }
                },
                
                generatePrepList() {
                    // In a real app, this would generate prep list based on reservations and forecasts
                    this.showSuccess('Prep list generated');
                },
                
                // ========================
                // ENHANCED WAITER METHODS
                // ========================
                startShift() {
                    this.shiftActive = !this.shiftActive;
                    this.showSuccess(`Shift ${this.shiftActive ? 'started' : 'ended'}`);
                },
                
                selectTable(table) {
                    this.selectedTable = table;
                },
                
                getTableDetails(table) {
                    return this.waiterTables.find(t => t.table === table) || {};
                },
                
                get filteredCustomers() {
                    if (!this.customerSearch) return this.customers;
                    
                    const search = this.customerSearch.toLowerCase();
                    return this.customers.filter(customer => 
                        customer.name.toLowerCase().includes(search) ||
                        customer.phone.includes(search) ||
                        (customer.room && customer.room.toString().includes(search))
                    );
                },
                
                viewCustomerDetails(customer) {
                    this.editingItem = customer;
                    this.activeModal = 'viewCustomer';
                },
                
                assignTableToCustomer(customer) {
                    this.selectedTable = customer.room ? 'T' + customer.room.slice(-2) : 'T01';
                    this.showSuccess(`Table ${this.selectedTable} assigned to ${customer.name}`);
                },
                
                saveNewCustomer() {
                    const newCustomer = {
                        id: Date.now(),
                        name: `${this.newCustomer.firstName} ${this.newCustomer.lastName}`,
                        phone: this.newCustomer.phone,
                        room: this.newCustomer.room || null,
                        status: 'Active',
                        checkIn: new Date().toLocaleDateString(),
                        totalSpent: 0,
                        notes: this.newCustomer.notes
                    };
                    
                    this.customers.push(newCustomer);
                    this.newCustomer = { firstName: '', lastName: '', phone: '', room: '', notes: '' };
                    this.closeModal();
                    this.showSuccess('Customer added successfully');
                },
                
                generateShiftReport() {
                    // Generate report data
                    this.showSuccess('Shift report refreshed');
                },
                
                printShiftReport() {
                    console.log('Printing shift report:', this.shiftReport);
                    this.showSuccess('Shift report sent to printer');
                },
                
                endShift() {
                    this.shiftActive = false;
                    this.showSuccess('Shift ended successfully');
                    this.currentPage = 'dashboard';
                },
                
                processSplitBill() {
                    if (!this.splitBill.table || !this.splitBill.total) {
                        this.showError('Please select a table and enter total amount');
                        return;
                    }
                    
                    const amountPerPerson = (this.splitBill.total / this.splitBill.ways).toFixed(2);
                    this.showSuccess(`Bill split ${this.splitBill.ways} ways. Each person pays: $${amountPerPerson}`);
                    this.closeModal();
                },
                
                submitTableOrder() {
                    if (!this.selectedTable) {
                        this.showError('Please select a table first');
                        return;
                    }
                    
                    // Create order for selected table
                    const table = this.waiterTables.find(t => t.table === this.selectedTable);
                    if (table) {
                        table.status = 'Occupied';
                        table.guests = this.tableOrder.guests;
                        table.order = 'Pending';
                        table.time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                        table.waiter = this.waiterName;
                        
                        // Add to waiter orders
                        const newOrder = {
                            id: 'WO' + (this.waiterOrders.length + 1).toString().padStart(3, '0'),
                            table: this.selectedTable,
                            items: this.tableOrder.items,
                            status: 'Pending',
                            amount: 0 // Would calculate in real app
                        };
                        
                        this.waiterOrders.unshift(newOrder);
                        this.showSuccess(`Order placed for Table ${this.selectedTable}`);
                        this.closeModal();
                    }
                },
                
                printFloorPlan() {
                    console.log('Printing floor plan');
                    this.showSuccess('Floor plan sent to printer');
                },
                
                // ========================
                // EXISTING METHODS (keep from original)
                // ========================
                formatPageTitle() {
                    const titles = {
                        'dashboard': 'Dashboard',
                        'bookings': 'Bookings',
                        'guests': 'Guests',
                        'rooms': 'Rooms',
                        'staff': 'Staff',
                        'services': 'Services',
                        'finance': 'Finance',
                        'analytics': 'Analytics',
                        'settings': 'Settings',
                        'kitchen-orders': 'Kitchen Orders',
                        'menu-management': 'Menu Management',
                        'kitchen-menu': 'Kitchen Menu',
                        'inventory': 'Inventory',
                        'kitchen-timers': 'Kitchen Timers',
                        'prep-stations': 'Prep Stations',
                        'kitchen-schedule': 'Kitchen Schedule',
                        'tables': 'Restaurant Tables',
                        'take-order': 'Take Order',
                        'active-orders': 'Active Orders',
                        'billing': 'Billing',
                        'floor-map': 'Floor Map',
                        'customer-management': 'Customer Management',
                        'shift-report': 'Shift Report',
                        'laundry-jobs': 'Laundry Jobs',
                        'pickup-schedule': 'Pickup Schedule',
                        'laundry-inventory': 'Laundry Inventory',
                        'machine-status': 'Machine Status'
                    };
                    return titles[this.currentPage] || 'Dashboard';
                },
                
                getRoleDisplayName() {
                    const names = {
                        'admin': 'Administrator',
                        'chef': 'Head Chef',
                        'waiter': 'Lead Waiter',
                        'laundry': 'Laundry Manager'
                    };
                    return names[this.userRole] || 'User';
                },
                
                getRoleTitle() {
                    const titles = {
                        'admin': 'Administrator',
                        'chef': 'Kitchen Staff',
                        'waiter': 'Restaurant Staff',
                        'laundry': 'Laundry Services'
                    };
                    return titles[this.userRole] || 'Staff';
                },
                
                getNewButtonText() {
                    const texts = {
                        'admin': 'New Booking',
                        'chef': 'New Order',
                        'waiter': 'New Order',
                        'laundry': 'New Job'
                    };
                    return texts[this.userRole] || 'New';
                },
                
                switchRole() {
                    const roles = ['admin', 'chef', 'waiter', 'laundry'];
                    const currentIndex = roles.indexOf(this.userRole);
                    this.userRole = roles[(currentIndex + 1) % roles.length];
                    this.currentPage = 'dashboard';
                },
                
                openModal(modalType, data = null) {
                    if (modalType === 'viewOrder' && data) {
                        this.editingItem = { ...data };
                    }
                    this.activeModal = modalType;
                },
                
                closeModal() {
                    this.activeModal = null;
                    this.editingItem = null;
                    this.restockingItem = null;
                    this.restockAmount = 0;
                    this.errorMessage = '';
                    this.successMessage = '';
                },
                
                showError(message) {
                    this.errorMessage = message;
                    this.activeModal = 'error';
                },
                
                showSuccess(message = 'Operation completed successfully') {
                    this.successMessage = message;
                    this.activeModal = 'success';
                },
                
                // Chart methods (keep from original)
                createRevenueChart() {
                    const ctx = document.getElementById('revenueChart');
                    if (ctx) {
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                                datasets: [{
                                    label: 'Revenue',
                                    data: [120000, 145000, 180000, 165000, 210000, 245000],
                                    borderColor: '#d4af37',
                                    backgroundColor: 'rgba(212, 175, 55, 0.1)',
                                    tension: 0.4,
                                    fill: true
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: { legend: { display: false } }
                            }
                        });
                    }
                },
                
                createOccupancyChart() {
                    const ctx = document.getElementById('occupancyChart');
                    if (ctx) {
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                                datasets: [{
                                    label: 'Occupancy Rate',
                                    data: [75, 82, 90, 85, 88, 92, 87],
                                    backgroundColor: '#1e3a5f',
                                    borderRadius: 6
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: { legend: { display: false } },
                                scales: {
                                    y: {
                                        beginAtZero: true,
                                        max: 100,
                                        ticks: { callback: value => value + '%' }
                                    }
                                }
                            }
                        });
                    }
                },
                
                createRoomStatusChart() {
                    const ctx = document.getElementById('roomStatusChart');
                    if (ctx) {
                        new Chart(ctx, {
                            type: 'doughnut',
                            data: {
                                labels: ['Occupied', 'Available', 'Reserved', 'Cleaning'],
                                datasets: [{
                                    data: [42, 28, 15, 15],
                                    backgroundColor: ['#ef4444', '#10b981', '#3b82f6', '#f59e0b']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                cutout: '70%'
                            }
                        });
                    }
                },
                
                createDemographicsChart() {
                    const ctx = document.getElementById('demographicsChart');
                    if (ctx) {
                        new Chart(ctx, {
                            type: 'pie',
                            data: {
                                labels: ['Business', 'Leisure', 'Family', 'Couples'],
                                datasets: [{
                                    data: [40, 30, 20, 10],
                                    backgroundColor: ['#3b82f6', '#10b981', '#8b5cf6', '#f59e0b']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false
                            }
                        });
                    }
                },
                
                // Inventory methods (keep from original)
                initInventory() {
                    const savedInventory = localStorage.getItem('hotel_inventory');
                    if (savedInventory) {
                        this.chefInventory = JSON.parse(savedInventory);
                    } else {
                        // Default inventory
                        this.chefInventory = [
                            { id: 1, item: 'Salmon', category: 'food', quantity: 12, unit: 'kg', portionSize: 0.25, portionsPerUnit: 4, availablePortions: 48, minStock: 5, maxStock: 50, costPerUnit: 15.50, status: 'good', lastUpdated: new Date().toISOString() },
                            { id: 2, item: 'Pasta', category: 'food', quantity: 25, unit: 'kg', portionSize: 0.3, portionsPerUnit: 3.33, availablePortions: 83, minStock: 10, maxStock: 100, costPerUnit: 8.75, status: 'good', lastUpdated: new Date().toISOString() },
                            // ... rest of inventory items
                        ];
                        this.saveInventory();
                    }
                },
                
                saveInventory() {
                    localStorage.setItem('hotel_inventory', JSON.stringify(this.chefInventory));
                    localStorage.setItem('inventory_last_modified', Date.now().toString());
                },
                
                startRealtimeSync() {
                    // Setup real-time sync listeners
                    setInterval(() => {
                        this.checkForUpdates();
                    }, 3000);
                },
                
                checkForUpdates() {
                    // Check for updates from other tabs/sessions
                }
            }));
        });
    </script>
</body>
</html>